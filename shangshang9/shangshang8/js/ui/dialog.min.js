define(["jquery","text"],function(n,t){"use strict";var i=n(window),r=n(document),e=n(document.body),o=1e4,u=function(){return{width:i.width(),height:i.height(),left:r.scrollLeft(),top:r.scrollTop()}},f=function(){return o++};return{dbs:[],open:function(i,r){r=n.extend({},{title:"",width:400,close:!0,notify:null},r);var c=this,a=r.width,b=r.height,k=f(),s=f(),o=[s,a],y=u(),p=y.width,w=y.height,v=Math.round((p-a)/2),l,h=new t;r.close&&h._('<a href="javascript:void(0);" class="ui-dialog-close"><\/a>');h._('<div class="ui-dialog-skin"><\/div>');h._('<div class="ui-dialog-wrap">');r.title&&h._('<div class="ui-dialog-header">')._(r.title)._("<\/div>");h._('<div class="ui-dialog-body">');i&&h._(i.replace(new RegExp("#di#","g"),s));h._("<\/div><\/div>");o[3]=n("<div><\/div>");o[3].addClass("ui-dialog-mask");o[3].css({zIndex:k,width:p+"px",height:w+"px",id:"dialog-mask-"+s});v<0&&(v=0);o[4]=n("<div><\/div>");o[4].addClass("ui-dialog");o[4].css({zIndex:s,width:a+"px",left:v+"px",display:"none",id:"dialog-"+s});o[4].html(h.ts());o[5]=r.notify;e.append(o[3],o[4]);n(".ui-dialog-close").one("click",function(){c.close(s)});n("#dialog-btn-a-"+s).one("click",function(){c.close(s,1)});n("#dialog-btn-b-"+s).one("click",function(){c.close(s,0)});n("[dialog-btn-notify]").one("click",function(t){t.preventDefault();var i=n(this).attr("dialog-btn-notify").split(",");c.notify(i[0],i[1])});o[2]=b||o[4].outerHeight();l=Math.round((w-o[2])/3);l<0&&(l=0);o[4].css("top",l+"px");o[4].show();c.dbs.push(o)},alert:function(i,r,u){var i=i||"系统提示",r=r||0;u=n.extend({},{title:"系统提示",width:400,btn:"确定"},u);u.width<150&&(u.width=150);(typeof r!="number"||r<0)&&(r=0);var e=this,f=new t;f._('<div class="ui-dialog-icon-wrap"><\/div>');f._('<p class="ui-dialog-msg">')._(i)._("<\/p>");f._('<div class="ui-dialog-footer">');e.addBtn(f,u.btn,"a","btn btn-red",1);u.cfm&&e.addBtn(f,u.cancelBtn,"b","btn btn-red",0,!0);f._("<\/div>");e.open(f.ts(),u)},confirm:function(t,i,r){r=n.extend({},{width:500,cancelBtn:"取消"},r);r.cfm=!0;this.alert(t,i,r)},addBtn:function(n,t,i,r,u,f){var e=f?"margin-left:8px;":null;this.addButton(n,{id:"dialog-btn-"+i+"-#di#",name:t,css:r,style:e})},addButton:function(n,t){n._('<input type="button"');t.id&&n._(' id="')._(t.id)._('"');t.name&&n._(' value="')._(t.name)._('"');t.css&&n._(' class="')._(t.css)._('"');t.style&&n._(' style="')._(t.style)._('"');n._(">")},notify:function(n,t){var i=this.get(n);i[5]&&i[5](t!=null&&t!=undefined?t:0)},close:function(n,t){var u=this,i,f,r=1,t=t||0;if(n)if(i=u.get(n),i){if(typeof n=="number"&&(i[5]&&(r=i[5](t),(r==null||r==undefined)&&(r=1)),r>0&&(u.get(n,!0),i[4].remove(),i[3].remove()),r<2))return}else return;f=u.dbs.length;f>0&&u.close(u.dbs[f-1][0],0)},get:function(n,t){for(var f=this,r=f.dbs,u,i=0;i<r.length;i++)if(r[i][0]==n){u=r[i];t&&r.splice(i,1);break}return u},resize:function(){var h=this,f=h.dbs,r;if(f.length!=0){var e=u(),o=e.width,s=e.height,t,i,n;for(r=0;r<f.length;r++)n=f[r],t=Math.round((o-n[1])/2),t<0&&(t=0),i=Math.round((s-n[2])/3),i<0&&(i=0),n[3].css("width",o+"px"),n[3].css("height",s+"px"),n[4].css("top",i+"px"),n[4].css("left",t+"px")}}}});
//# sourceMappingURL=dialog.min.js.map
