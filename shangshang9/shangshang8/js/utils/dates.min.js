define(function(){"use strict";var n=function(n){return(n<10?"0":"")+n};return Date.prototype.format=function(n){var i={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),S:this.getMilliseconds()},t;/(y+)/.test(n)&&(n=n.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length)));for(t in i)new RegExp("("+t+")").test(n)&&(n=n.replace(RegExp.$1,RegExp.$1.length===1?i[t]:("00"+i[t]).substr((""+i[t]).length)));return n},{format:function(t,i){var f;i=i||"Y-M-D h:m:s";var u=t.getTime()?t:new Date(t),e=i.length,r=i;for(f=0;f<e;f++)switch(i.charAt(f)){case"Y":r=r.replace(/Y/g,n(u.getFullYear()));break;case"y":r=r.replace(/y/g,n(u.getFullYear()).substring(2));break;case"M":r=r.replace(/M/g,n(u.getMonth()+1));break;case"D":r=r.replace(/D/g,n(u.getDate()));break;case"h":r=r.replace(/h/g,n(u.getHours()));break;case"m":r=r.replace(/m/g,n(u.getMinutes()));break;case"s":r=r.replace(/s/g,n(u.getSeconds()))}return r},formatJson:function(n){return n.replace("T"," ").substring(0,19)}}});