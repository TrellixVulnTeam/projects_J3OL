define(["avalon","jquery"],function(n,t){var i=n.define({$id:"vmStockSearch",isBusy:!1,searchVisible:!1,inititalized:!1,history:[],timer:"",keyPressHandler:function(n){(n.keyCode===27||n.which===27)&&i.hideSearch()},onFocusHandler:function(){i.timer=setInterval(i.timerStock,800)},onBlurHandler:function(){clearInterval(i.timer)},timerStock:function(){i.qryKeyword=t("#qryKeyword").val()},getPrice:function(n,i){return t.ajax({url:"ashx/TradeHandler.ashx?action=getPriceFromSql",type:"POST",data:{ticker:n},success:i,error:function(n,t){console.log(t)}}),!1},qryKeyword:"",queryResult:[],highLight:function(n){var t=new RegExp("("+i.qryKeyword+")|(?=[^<>]*<)","ig");return n.replace(t,"<span class='txt-stress'>"+i.qryKeyword.toUpperCase()+"<\/span>")}});return i.$watch("qryKeyword",function(){return i.qryKeyword?(i.inititalized=!1,t.ajax({url:"ashx/TradeHandler.ashx?action=getSecInfo",type:"POST",cache:!1,data:{ticker:i.qryKeyword,pagesize:10,pagenum:1},success:function(n){i.queryResult=n}}),!1):!1}),i});
//# sourceMappingURL=stockSearch.min.js.map
